syntax = "proto3";

package trading.service.v1;

import "google/protobuf/timestamp.proto";
import "trading/service/v1/server.proto";

option go_package = "kratos-admin/api/gen/go/trading/service/v1;tradingV1";

// Robot 状态
enum RobotStatus {
  Robot_STATUS_UNSPECIFIED = 0;
  Robot_STATUS_CONNECTED = 1;    // 在线
  Robot_STATUS_DISCONNECTED = 2; // 离线
  Robot_STATUS_IDLE = 3;         // 空闲
  Robot_STATUS_ERROR = 4;        // 错误
}

// Robot 信息
message Robot {

  // 机器人ID
  string robot_id = 1;

  // 昵称
  string nickname = 2;

  // 交易所
  string exchange = 3;

  // 版本
  string version = 4;

  // 状态
  string status = 5;
  // 初始资金
  double init_balance = 6;
  // 余额
  double balance = 7;

  // 注册时间
  google.protobuf.Timestamp registered_at = 8;

  // 最后心跳时间
  google.protobuf.Timestamp last_heartbeat = 9;


}

// 获取 Robot 列表响应
message ListRobotResponse {
  // 总数
  int32 total = 1;

  // Robot 列表
  repeated Robot items = 2;
}

// 获取 Robot 请求
message GetRobotRequest {
  // 机器人ID
  string robot_id = 1;
}

// 创建 Robot 请求
message CreateRobotRequest {
  // 机器人ID
  string robot_id = 1;

  // 昵称
  string nickname = 2;

  // 交易所
  string exchange = 3;

  // 版本
  string version = 4;

  // 状态
  string status = 5;

  // 初始资金
  double init_balance = 6;

  // 余额
  double balance = 7;
}

// 更新 Robot 请求
message UpdateRobotRequest {
  // 机器人ID
  string robot_id = 1;

  // 昵称
  optional string nickname = 2;

  // 交易所
  optional string exchange = 3;

  // 版本
  optional string version = 4;

  // 状态
  optional string status = 5;

  // 初始资金
  optional double init_balance = 6;

  // 余额
  optional double balance = 7;
}

// 删除 Robot 请求
message DeleteRobotRequest {
  // 机器人ID
  string robot_id = 1;
}
