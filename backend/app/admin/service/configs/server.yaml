server:
  rest:
    addr: ":7788"
    timeout: 10s
    enable_swagger: true
    enable_pprof: true
    cors:
      headers:
        - "X-Requested-With"
        - "X-Request-ID"
        - "Content-Type"
        - "Authorization"
      methods:
        - "GET"
        - "POST"
        - "PUT"
        - "DELETE"
        - "HEAD"
        - "OPTIONS"
      origins:
        - "*"
    middleware:
      enable_logging: true
      enable_recovery: true
      enable_tracing: true
      enable_validate: true
      enable_circuit_breaker: true
      enable_metadata: true
      auth:
        method: "HS256"
        key: "some_api_key"
        access_token_expires: 7200s # 2 hours
        refresh_token_expires: 604800s # 7 days
        access_token_key_prefix: "uat_"
        refresh_token_key_prefix: "urt_"

  asynq:
    uri: "redis://:*Abcd123456@redis:6379/1"
    enable_gracefully_shutdown: true
    shutdown_timeout: 3s
    codec: "json"

  sse:
    addr: ":7789"
    codec: "json"
    path: "/events"
    auto_stream: true
    auto_reply: false

  websocket:
    addr: ":7790"
    path: "/ws"
    read_buffer_size: 1024
    write_buffer_size: 1024
    max_message_size: 8192
    heartbeat:
      ping_interval: 30s
      pong_wait: 60s
      write_wait: 10s
    connection:
      max_connections: 10000
      max_connections_per_user: 5
    protocol:
      enable_legacy: true
      enable_actor: true
      auto_detect: true
